<%- include("partials/header") -%>

    <div class="main-board">
        <div class="container">
                <!-- Minimized Nav Bar -->
                        <div class="sidebar">
                            <nav class="navi">
                                <ul class="list">
                                    <li class="nav-item">
                                        <a class="icons" href="/dashboard">
                                            <svg class="icon-space" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-columns" viewBox="0 0 16 16">
                                                <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V2zm8.5 0v8H15V2H8.5zm0 9v3H15v-3H8.5zm-1-9H1v3h6.5V2zM1 14h6.5V6H1v8z"/>
                                            </svg>
                                            <h2 class="link-text">Dashboard</h2>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="icons" href="/entries">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-collection" viewBox="0 0 16 16">
                                                <path d="M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"/>
                                            </svg>
                                            <h2 class="link-text">Entries</h2>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="icons" href="#">
                                            <svg class="icon-space" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-check-square" viewBox="0 0 16 16">
                                                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                                <path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"/>
                                            </svg>
                                            <h2 class="link-text">Todo</h2>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="icons" href="#">
                                            <svg class="icon-space" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-calendar-check" viewBox="0 0 16 16">
                                                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                            </svg>
                                            <h2 class="link-text">Calender</h2>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="icons" href="#">
                                            <svg class="icon-space" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-graph-up" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z"/>
                                            </svg>
                                            <h2 class="link-text">Statistics</h2>
                                        </a>
                                    </li>
                                    <li class="logout-icon nav-item">
                                        <a class="icons" href="/logout">
                                            <svg class="icon-space" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                                                <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                                            </svg>
                                            <h2 class="link-text">Logout</h2>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
            </div>
            

                <div class="dashboard-container">

                    <div class="welcome-box">
                        <div class="welcome-time">
                            <div class="welcome-message">
                                <h2 class="user-message">Welcome back, <%= user.userName %>!</h2>
                            </div>

                            <div class="current-date-box">
                                <% const today = new Date().toString().slice(7,15) %> 
                                <% const month = new Date().toLocaleString('default', {month: 'long'}) %>
                                <% const day = new Date().toLocaleString('default', {weekday: 'long'}) %>
                                <span class="current-date"> Today is <%= day + ", " + month + today %>.</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard">

                        <div class="box">
                            <div class="current-works" id="current" onclick="showCurrent()">

                                <div class="split">
                                    <h1 class="current-month-entries"> <%= month %>'s Entries</h1>

                                    <button class="add"><a onclick="modalView()">+</a></button>
                                </div>

                                <div class="entries-table" id="current-entries">
                                    <% works.forEach(element => {%>
                                        <% if(element.createdAt.toLocaleString('default', {month: 'long'}) === new Date().toLocaleString('default', {month: 'long'})){ %>
                                            <div class="works">
                                                <p><%= element.title %> 
                                                <br> 
                                                <%= element.createdAt %>
                                                <br>
                                                <%= element.description %></p> 
                                                <br> 
                                                <img class="image" src="<%= element.image %>">
                                            </div>
                                       <% }%> 
                                    <%})%>
                                </div>
                            </div>

                            <div class="pastWorks" id="past" onclick="showPast()">
                                    <h1 class="current-month-entries">Last Month's Entries</h1>

                                    <div class="entries-table last-month-entries" id="past-entries">
                                        <% works.forEach(element => {%>
                                            <% if(element.createdAt.getMonth() === new Date().getMonth()-1){ %>
                                                <div class="works">
                                                    <p><%= element.title %> 
                                                    <br> 
                                                    <%= element.createdAt %>
                                                    <br>
                                                    <%= element.description %></p> 
                                                    <br> 
                                                    <img class="image" src="<%= element.image %>">
                                                </div>
                                           <% }%> 
                                        <%})%>
                                    </div>
                            </div>

                            <!-- <a class="viewMore" href="#">View more</a> -->
                        </div>

                        <div class="todo-box">
                            <div class="todo-summary">
                                <div class="summary split">
                                    <h1 class = "current-month-entries">Today's To-do</h1>

                                    <button class="add"><a href="#">+</a></button>
                                </div>

                                <div>

                                </div>
                            </div>
                        </div>

                    </div>
                    
                </div>
        </div>
<!-- Modal View -->
        
    <div class="modal hidden" id="modal">    
      
      <div class="modal-input">

            <button class="add"><a id="close-modal">x</a></button>


      <form action="/entry/createFile" enctype="multipart/form-data" class="formContainer" method="POST">

        <div class="form-layout">
          <label for="fileUpload" class="form-label">File</label>
          <br>
          <input type="file" class="form-control" id="fileUpload" name="file">
        </div>
        
        <div class="form-layout">
            <label for="title" class="form-label">Title</label>
            <br>
            <input type="text" class="form-control" id="title" name="title">
        </div>

        <div class="form-layout">
          <label for="tag" class="form-label">Tag</label>
          <br>
          <input type="text" class="form-control" id="tag" name="tag" placeholder="ie. project, lifestyle">
        </div>

        <div class="form-layout">
          <label for="link" class="form-label">Link</label>
          <br>
          <input type="link" class="form-control" id="link" name="link" placeholder="optional">
        </div>

        <div class="form-layout">
          <label for="description" class="form-label">Description</label>
          <br>
          <textarea class="form-control description-size" id="description" name="description"></textarea>
        </div>

        <button type="submit" class="modal-btn" value="Upload">Submit</button>

      </form>

      </div>
    </div>
</div>


<%- include("partials/footer") -%> 